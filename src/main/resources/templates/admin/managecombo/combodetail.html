<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Chi tiết Combo</title>
    <meta charset="UTF-8">
    <style>
    .container {
        width: 60%;
        margin: auto;
        border: 1px solid #ccc;
        padding: 20px;
    }

    h1, p { text-align: center; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    th, td { border: 1px solid #ddd; padding: 8px; text-align: center; }
    th { background-color: #f2f2f2; }
    .hidden { display: none; }
</style>

</head>
<body>

<h1>Chi tiết Combo</h1>

<!-- Chỗ này dùng để JS đọc và kiểm tra -->
<div id="comboContainer" th:data-has-combo="${combo != null}" class="container">
    <!-- Combo không tồn tại -->
    <div id="comboNotFound" class="hidden">
        <p style="text-align: center;">Combo không tồn tại.</p>
    </div>

    <!-- Combo tồn tại -->
    <div id="comboDetail">
        <p><strong>Tên:</strong> <span th:text="${combo.name}"></span></p>
        <p><strong>Mô tả:</strong> <span th:text="${combo.description}"></span></p>
        <p><strong>Giá:</strong> <span th:text="${combo.price}"></span></p>
        <p><strong>Có sẵn:</strong> <span th:text="${combo.available ? 'Có' : 'Không'}"></span></p>

        <h2 style="text-align: center;">Danh sách món ăn trong Combo</h2>
        <table>
            <thead>
                <tr>
                    <th>Tên Món Ăn</th>
                    <th>Số lượng</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="detail : ${comboDetails}">
                    <td th:text="${detail.itemName}"></td>
                    <td th:text="${detail.quantity}"></td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<a href="/admin/manageCombo/list" style="display: block; text-align: center; margin-top: 20px;">Quay lại danh sách</a>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const container = document.getElementById("comboContainer");
        const hasCombo = container.getAttribute("data-has-combo") === "true";

        const detailDiv = document.getElementById("comboDetail");
        const notFoundDiv = document.getElementById("comboNotFound");

        if (hasCombo) {
            detailDiv.classList.remove("hidden");
        } else {
            notFoundDiv.classList.remove("hidden");
            detailDiv.classList.add("hidden");
        }
    });
</script>

</body>
</html>
